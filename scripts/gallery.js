function ISEObject(){}function Element(){this.Definition=null}function Div(t){this.Definition=$("<div></div>"),this.Definition.attr("Id",t)}function Ul(t){this.Definition=$("<ul></ul>"),this.Id,this.Definition.attr("Id",this.Id)}function Li(t){this.Definition=$("<li></li>"),this.Id,this.Definition.attr("Id",this.Id)}function Img(t){this.Definition=$("<Img></Img>"),this.Id,this.Definition.attr("Id",this.Id)}function A(t){this.Definition=$("<a></a>"),this.Id,this.Definition.attr("Id",this.Id)}ISEObject.prototype.Render=function(t,i){$(t).append(i.Definition)},Element.prototype.AddChild=function(t){this.Definition.append(t.Definition)},Element.prototype.AddAttributesWithValue=function(t,i){this.Definition.attr(t,i)},Element.prototype.AddText=function(t){this.Definition.text(t)},Element.prototype.AddHtml=function(t){this.Definition.html(t)},Element.prototype.AddInlineStyle=function(t,i){this.Definition.css(t,i)},Div.prototype=new Element,Div.prototype.constructor=Div,Ul.prototype=new Element,Ul.prototype.constructor=Ul,Li.prototype=new Element,Li.prototype.constructor=Li,Img.prototype=new Element,Img.prototype.constructor=Img,A.prototype=new Element,A.prototype.constructor=A,function(t){t.fn.ISEAccordion=function(i){var e=t.extend({},t.fn.ISEAccordion.defaults,i),n=this.selector,o=0,l=!1;jQuery.extend(jQuery.easing,{easeOutBounce:function(t,i,e,n,o){return(i/=o)<1/2.75?n*(7.5625*i*i)+e:i<2/2.75?n*(7.5625*(i-=1.5/2.75)*i+.75)+e:i<2.5/2.75?n*(7.5625*(i-=2.25/2.75)*i+.9375)+e:n*(7.5625*(i-=2.625/2.75)*i+.984375)+e},easeInOutBounce:function(t,i,e,n,o){var l=1.70158,a=0,r=n;if(0==i)return e;if(2==(i/=o/2))return e+n;if(a||(a=o*(.3*1.5)),r<Math.abs(n)){r=n;l=a/4}else l=a/(2*Math.PI)*Math.asin(n/r);return i<1?r*Math.pow(2,10*(i-=1))*Math.sin((i*o-l)*(2*Math.PI)/a)*-.5+e:r*Math.pow(2,-10*(i-=1))*Math.sin((i*o-l)*(2*Math.PI)/a)*.5+n+e}}),accordion=new Div("container"),accordion.AddInlineStyle("position","relative"),ul=new Ul,accordion.AddChild(ul);var a,r=null,d=0;function s(i){i.find("li").each(function(){var i,n,o,l,r;if(i=jQuery.trim(t(this).find("img").attr("src")),e.htmlConfig?(n=t.trim(t(this).find('p[pos="left"]').html()),o=t.trim(t(this).find('p[pos="bottom"]').html()),l=t.trim(t(this).find('a[name="link"]').html())):(n=t(this).find('p[pos="left"]').text(),o=t(this).find('p[pos="bottom"]').text(),l=t(this).find('a[name="link"]').text()),r=jQuery.trim(t(this).find('a[name="link"]').attr("target")),li=new Li,ul.AddChild(li),divTitle=new Div,divTitle.AddAttributesWithValue("class","title"),divTitle.AddHtml(n),1==e.showLeftText&&li.AddChild(divTitle),divItem=new Div,divItem.AddAttributesWithValue("class","item"),li.AddChild(divItem),divBottomText=new Div,divBottomText.AddAttributesWithValue("class","bottom-text"),divBottomText.AddHtml(o),1==e.showBottomText&&divItem.AddChild(divBottomText),image=new Img,image.AddAttributesWithValue("src",i),""!=l){var s=new A;s.AddAttributesWithValue("href",l),"undefined"!=r&&""!=r&&s.AddAttributesWithValue("target",r),divItem.AddChild(s),s.AddChild(image)}else divItem.AddChild(image);d==a-1&&(li.AddAttributesWithValue("class","last"),li.AddInlineStyle("border-right","none")),d++}),function(i){var a=0;a=e.galleryWidth/i-1,o=(e.galleryWidth-e.pictureWidth)/(i-1)-1;var d='<style type="text/css">'+n+" .title{width:"+e.galleryHeight+"px;height:30px;background-color:"+e.backgroundColor+';-moz-transform-origin:0 0;-webkit-transform-origin:0 0;-webkit-transform:rotate(-90deg);-moz-transform:rotate(-90deg);color:#fff;font-size:13px;text-align:center;vertical-align:middle;position:absolute;bottom:-30px;left:0;line-height:30px;font-family:Arial}</style> \x3c!--[if IE]><style type="text/css"> .title {top:0;filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=3);}</style><![endif]--\x3e <style type="text/css"> '+n+"{position:relative;width:"+e.galleryWidth+"px;height:"+e.galleryHeight+"px;background-color:#000;font-size:18px;overflow:hidden}"+n+" ul{width:"+e.galleryWidth+"px;height:"+e.galleryHeight+"px;margin:0;padding:0}"+n+" li{float:left;height:"+e.galleryHeight+"px;width:"+a+"px;list-style:none;border-right:solid 1px "+e.borderColor+";position:relative;overflow:hidden}"+n+" li .item{height:"+e.galleryHeight+"px;width:"+e.pictureWidth+"px;position:absolute}"+n+" li img{height:"+e.galleryHeight+"px;width:"+e.pictureWidth+"px; border-width:0;}.last{overflow:visible!important;overflow-x:visible!important;overflow-y:visible!important}"+n+" .bottom-text{background-color:#000;width:"+(e.pictureWidth-20)+"px;padding:5px 10px 5px 10px; text-align:justify;font-family:Arial;color:#fff;font-weight:400;font-size:12px;position:absolute;bottom:-100px}</style>";t("head").append(d),null!=r&&r.remove();fl=new ISEObject,fl.Render(n,accordion),t(n+" .item").fadeTo(0,e.imagesOpacity,function(){}),t(n+" .bottom-text").fadeTo(0,e.bottomTextOpacity,function(){}),e.autoPlay?(t(n+" ").mouseenter(function(){l=!0}),t(n+" ").mouseleave(function(){l=!1})):("over"==e.eventType&&t(n+"  li").mouseenter(function(){h(n,this)}),"click"==e.eventType&&t(n+"  li").click(function(){h(n,this)}),t(n+"  .item").mouseenter(function(){u(this)}),t(n+" ").mouseleave(function(){t(n+"  li").animate({width:a},{duration:e.animationTime,queue:!1,easing:"swing",complete:function(){}})}),t(n+"  .item").mouseleave(function(){c(this)}))}(a)}function h(i,n){var l=n;t(i+"  li").animate({width:o},{duration:e.animationTime,queue:!1,easing:"swing",complete:function(){}}),t(l).find(".bottom-text").animate({bottom:10},{duration:1200,queue:!1,easing:"easeInOutBounce"}),t(l).animate({width:e.pictureWidth},{duration:e.animationTime,queue:!1,easing:"swing",complete:function(){}})}function u(i){var n=i;t(n).fadeTo(e.animationTime,1,function(){t(n).clearQueue()})}function c(i){var n=i;t(n).find(".bottom-text").animate({bottom:-t(n).find(".bottom-text").height()-15},{duration:1200,queue:!1,easing:"easeInOutBounce"}),t(n).fadeTo(e.animationTime,e.imagesOpacity,function(){t(n).clearQueue()})}1==e.htmlConfig?(r=t(n+" ul"),a=t(r).find("li").length,s(r)):t.ajax({type:"GET",url:e.assetsPath+"/data.xml",dataType:"xml",success:function(i){a=t(i).find("li").length,s(t(i))},error:function(t,i,e){alert("Can not load configuration XML, please check the path.")}});var f=0,m=t(n+"  li"),p=t(n+"  .item");e.autoPlay&&function t(){l||("ltr"==e.switchOrder&&(c(0!=f?p[f-1]:p[a-1]),h(n,m[f]),u(p[f]),++f==a&&(f=0)),"rtl"==e.switchOrder&&(c(1!=++f?p[a-f+1]:p[0]),h(n,m[a-f]),u(p[a-f]),f==a&&(f=0))),setTimeout(t,1e3*e.switchTime)}()},t.fn.ISEAccordion.defaults={galleryWidth:600,galleryHeight:400,pictureWidth:300,backgroundColor:"#222",borderColor:"#9999aa",imagesOpacity:.5,bottomTextOpacity:.6,eventType:"over",showLeftText:!0,showBottomText:!0,animationTime:600,assetsPath:"assets",htmlConfig:!0,autoPlay:!1,switchTime:2,switchOrder:"ltr"}}(jQuery);