function buildKeyboardInputs(){var t=this;this.VKI_version="1.6",this.VKI_target=this.VKI_visible="",this.VKI_shift=this.VKI_capslock=this.VKI_alternate=this.VKI_dead=!1,this.VKI_deadkeysOn=!1,this.VKI_kt="US",this.VKI_range=!1,this.VKI_keyCenter=3,this.VKI_layout=new Object,this.VKI_layoutDDK=new Object,this.VKI_layout.Belgian=[[["²","³"],["&","1","|"],["é","2","@"],['"',"3","#"],["'","4"],["(","5"],["§","6","^"],["è","7"],["!","8"],["ç","9","{"],["à","0","}"],[")","°"],["-","_"],["Bksp","Bksp"]],[["Tab","Tab"],["a","A"],["z","Z"],["e","E","€"],["r","R"],["t","T"],["y","Y"],["u","U"],["i","I"],["o","O"],["p","P"],["^","¨","["],["$","*","]"],["Enter","Enter"]],[["Caps","Caps"],["q","Q"],["s","S"],["d","D"],["f","F"],["g","G"],["h","H"],["j","J"],["k","K"],["l","L"],["m","M"],["ù","%","´"],["μ","£","`"]],[["Shift","Shift"],["<",">","\\"],["w","W"],["x","X"],["c","C"],["v","V"],["b","B"],["n","N"],[",","?"],[";","."],[":","/"],["=","+","~"],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],this.VKI_layout.Dutch=[[["@","§","¬"],["1","!","¹"],["2",'"',"²"],["3","#","³"],["4","$","¼"],["5","%","½"],["6","&","¾"],["7","_","£"],["8","(","{"],["9",")","}"],["0","'"],["/","?","\\"],["°","~","¸"],["Bksp","Bksp"]],[["Tab","Tab"],["q","Q"],["w","W"],["e","E","€"],["r","R","¶"],["t","T"],["y","Y"],["u","U"],["i","I"],["o","O"],["p","P"],["¨","^"],["*","|"],["<",">"]],[["Caps","Caps"],["a","A"],["s","S","ß"],["d","D"],["f","F"],["g","G"],["h","H"],["j","J"],["k","K"],["l","L"],["+","±"],["´","`"],["Enter","Enter"]],[["Shift","Shift"],["]","[","¦"],["z","Z","«"],["x","X","»"],["c","C","¢"],["v","V"],["b","B"],["n","N"],["m","M","µ"],[",",";"],[".",":","·"],["-","="],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],this.VKI_layout.Dvorak=[[["`","~"],["1","!"],["2","@"],["3","#"],["4","$"],["5","%"],["6","^"],["7","&"],["8","*"],["9","("],["0",")"],["[","{"],["]","}"],["Bksp","Bksp"]],[["Tab","Tab"],["'",'"'],[",","<"],[".",">"],["p","P"],["y","Y"],["f","F"],["g","G"],["c","C"],["r","R"],["l","L"],["/","?"],["=","+"],["\\","|"]],[["Caps","Caps"],["a","A"],["o","O"],["e","E"],["u","U"],["i","I"],["d","D"],["h","H"],["t","T"],["n","N"],["s","S"],["-","_"],["Enter","Enter"]],[["Shift","Shift"],[";",":"],["q","Q"],["j","J"],["k","K"],["x","X"],["b","B"],["m","M"],["w","W"],["v","V"],["z","Z"],["Shift","Shift"]],[[" "," "]]],this.VKI_layout.French=[[["²","³"],["&","1"],["é","2","~"],['"',"3","#"],["'","4","{"],["(","5","["],["-","6","|"],["è","7","`"],["_","8","\\"],["ç","9","^"],["à","0","@"],[")","°","]"],["=","+","}"],["Bksp","Bksp"]],[["Tab","Tab"],["a","A"],["z","Z"],["e","E","€"],["r","R"],["t","T"],["y","Y"],["u","U"],["i","I"],["o","O"],["p","P"],["^","¨"],["$","£","¤"],["Enter","Enter"]],[["Caps","Caps"],["q","Q"],["s","S"],["d","D"],["f","F"],["g","G"],["h","H"],["j","J"],["k","K"],["l","L"],["m","M"],["ù","%"],["*","μ"]],[["Shift","Shift"],["<",">"],["w","W"],["x","X"],["c","C"],["v","V"],["b","B"],["n","N"],[",","?"],[";","."],[":","/"],["!","§"],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],this.VKI_layout.German=[[["^","°"],["1","!"],["2",'"',"²"],["3","§","³"],["4","$"],["5","%"],["6","&"],["7","/","{"],["8","(","["],["9",")","]"],["0","=","}"],["ß","?","\\"],["´","`"],["Bksp","Bksp"]],[["Tab","Tab"],["q","Q","@"],["w","W"],["e","E","€"],["r","R"],["t","T"],["z","Z"],["u","U"],["i","I"],["o","O"],["p","P"],["ü","Ü"],["+","*","~"],["Enter","Enter"]],[["Caps","Caps"],["a","A"],["s","S"],["d","D"],["f","F"],["g","G"],["h","H"],["j","J"],["k","K"],["l","L"],["ö","Ö"],["ä","Ä"],["#","'"]],[["Shift","Shift"],["<",">","¦"],["y","Y"],["x","X"],["c","C"],["v","V"],["b","B"],["n","N"],["m","M","µ"],[",",";"],[".",":"],["-","_"],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],this.VKI_layout.Greek=[[["`","~"],["1","!"],["2","@","²"],["3","#","³"],["4","$","£"],["5","%","§"],["6","^","¶"],["7","&"],["8","*","¤"],["9","(","¦"],["0",")","º"],["-","_","±"],["=","+","½"],["Bksp","Bksp"]],[["Tab","Tab"],[";",":"],["ς","^"],["ε","Ε"],["ρ","Ρ"],["τ","Τ"],["υ","Υ"],["θ","Θ"],["ι","Ι"],["ο","Ο"],["π","Π"],["[","{","“"],["]","}","”"],["Enter","Enter"]],[["Caps","Caps"],["α","Α"],["σ","Σ"],["δ","Δ"],["φ","Φ"],["γ","Γ"],["η","Η"],["ξ","Ξ"],["κ","Κ"],["λ","Λ"],["΄","¨","΅"],["'",'"'],["\\","|","¬"]],[["Shift","Shift"],["<",">"],["ζ","Ζ"],["χ","Χ"],["ψ","Ψ"],["ω","Ω"],["β","Β"],["ν","Ν"],["μ","Μ"],[",","<"],[".",">"],["/","?"],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],this.VKI_layout.Hebrew=[[["~","`"],["1","!"],["2","@"],["3","#"],["4","$","₪"],["5","%"],["6","^"],["7","&"],["8","*"],["9",")"],["0","("],["-","_"],["=","+"],["\\","|"],["Bksp","Bksp"]],[["Tab","Tab"],["/","Q"],["'","W"],["ק","E","€"],["ר","R"],["א","T"],["ט","Y"],["ו","U","װ"],["ן","I"],["ם","O"],["פ","P"],["]","}"],["[","{"]],[["Caps","Caps"],["ש","A"],["ד","S"],["ג","D"],["כ","F"],["ע","G"],["י","H","ײ"],["ח","J","ױ"],["ל","K"],["ך","L"],["ף",":"],[",",'"'],["Enter","Enter"]],[["Shift","Shift"],["ז","Z"],["ס","X"],["ב","C"],["ה","V"],["נ","B"],["מ","N"],["צ","M"],["ת",">"],["ץ","<"],[".","?"],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],this.VKI_layout.Italian=[[["\\","|"],["1","!"],["2",'"'],["3","£"],["4","$","€"],["5","%"],["6","&"],["7","/"],["8","("],["9",")"],["0","="],["'","?"],["ì","^"],["Bksp","Bksp"]],[["Tab","Tab"],["q","Q"],["w","W"],["e","E","€"],["r","R"],["t","T"],["y","Y"],["u","U"],["i","I"],["o","O"],["p","P"],["è","é","[","{"],["+","*","]","}"],["Enter","Enter"]],[["Caps","Caps"],["a","A"],["s","S"],["d","D"],["f","F"],["g","G"],["h","H"],["j","J"],["k","K"],["l","L"],["ò","ç","@"],["à","°","#"],["ù","§"]],[["Shift","Shift"],["<",">"],["z","Z"],["x","X"],["c","C"],["v","V"],["b","B"],["n","N"],["m","M"],[",",";"],[".",":"],["-","_"],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],this.VKI_layout.Lithuanian=[[["`","~"],["ą","Ą"],["č","Č"],["ę","Ę"],["ė","Ė"],["į","Į"],["š","Š"],["ų","Ų"],["ū","Ū"],["„","("],["“",")"],["-","_"],["ž","Ž"],["Bksp","Bksp"]],[["Tab","Tab"],["q","Q"],["w","W"],["e","E"],["r","R"],["t","T"],["y","Y"],["u","U"],["i","I"],["o","O"],["p","P"],["[","{"],["]","}"],["Enter","Enter"]],[["Caps","Caps"],["a","A"],["s","S"],["d","D"],["f","F"],["g","G"],["h","H"],["j","J"],["k","K"],["l","L"],[";",":"],["'",'"'],["\\","|"]],[["Shift","Shift"],["–","€"],["z","Z"],["x","X"],["c","C"],["v","V"],["b","B"],["n","N"],["m","M"],[",","<"],[".",">"],["/","?"],["Shift","Shift"]],[[" "," "]]],this.VKI_layout.Norwegian=[[["|","§"],["1","!"],["2",'"',"@"],["3","#","£"],["4","¤","$"],["5","%"],["6","&"],["7","/","{"],["8","(","["],["9",")","]"],["0","=","}"],["+","?"],["\\","`","´"],["Bksp","Bksp"]],[["Tab","Tab"],["q","Q"],["w","W"],["e","E","€"],["r","R"],["t","T"],["y","Y"],["u","U"],["i","I"],["o","O"],["p","P"],["å","Å"],["¨","^","~"],["Enter","Enter"]],[["Caps","Caps"],["a","A"],["s","S"],["d","D"],["f","F"],["g","G"],["h","H"],["j","J"],["k","K"],["l","L"],["ø","Ø"],["æ","Æ"],["'","*"]],[["Shift","Shift"],["<",">"],["z","Z"],["x","X"],["c","C"],["v","V"],["b","B"],["n","N"],["m","M","μ","Μ"],[",",";"],[".",":"],["-","_"],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],this.VKI_layout.Numpad=[[["$"],["£"],["€"],["¥"],["/"],["^"],["Bksp","Bksp"]],[["."],["7"],["8"],["9"],["*"],["<"],["("],["["]],[["="],["4"],["5"],["6"],["-"],[">"],[")"],["]"]],[["0"],["1"],["2"],["3"],["+"],["Enter","Enter"]],[[" "]]],this.VKI_layoutDDK.Numpad=!0,this.VKI_layout["Polish Prog"]=[[["`","~"],["1","!"],["2","@"],["3","#"],["4","$"],["5","%"],["6","^"],["7","&"],["8","*"],["9","("],["0",")"],["-","_"],["=","+"],["Bksp","Bksp"]],[["Tab","Tab"],["q","Q"],["w","W"],["e","E","ę","Ę"],["r","R"],["t","T"],["y","Y"],["u","U"],["i","I"],["o","O","ó","Ó"],["p","P"],["[","{"],["]","}"],["\\","|"]],[["Caps","Caps"],["a","A","ą","Ą"],["s","S","ś","Ś"],["d","D"],["f","F"],["g","G"],["h","H"],["j","J"],["k","K"],["l","L","ł","Ł"],[";",":"],["'",'"'],["Enter","Enter"]],[["Shift","Shift"],["z","Z","ż","Ż"],["x","X","ź","Ź"],["c","C","ć","Ć"],["v","V"],["b","B"],["n","N","ń","Ń"],["m","M"],[",","<"],[".",">"],["/","?"],["Shift","Shift"]],[[" "," "," "," "],["Alt","Alt"]]],this.VKI_layout.Portuguese=[[["`","¬","¦"],["1","!"],["2",'"'],["3","£"],["4","$","€"],["5","%"],["6","^"],["7","&"],["8","*"],["9","("],["0",")"],["-","_"],["=","+"],["Bksp","Bksp"]],[["Tab","Tab"],["q","Q"],["w","W"],["e","E","é","É"],["r","R"],["t","T"],["y","Y"],["u","U","ú","Ú"],["i","I","í","Í"],["o","O","ó","Ó"],["p","P"],["[","{"],["]","}"],["Enter","Enter"]],[["Caps","Caps"],["a","A","á","Á"],["s","S"],["d","D"],["f","F"],["g","G"],["h","H"],["j","J"],["k","K"],["l","L"],["ç","Ç"],[";",":"],["'","@"],["#","~"]],[["Shift","Shift"],["\\","|"],["z","Z"],["x","X"],["c","C"],["v","V"],["b","B"],["n","N"],["m","M"],[",","<"],[".",">"],["/","?"],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],this.VKI_layout.Russian=[[["ё","Ё"],["1","!"],["2",'"'],["3","№"],["4",";"],["5","%"],["6",":"],["7","?"],["8","*"],["9","("],["0",")"],["-","_"],["=","+"],["Bksp","Bksp"]],[["Tab","Tab"],["й","Й"],["ц","Ц"],["у","У"],["к","К"],["е","Е"],["н","Н"],["г","Г"],["ш","Ш"],["щ","Щ"],["з","З"],["х","Х"],["ъ","Ъ"],["Enter","Enter"]],[["Caps","Caps"],["ф","Ф"],["ы","Ы"],["в","В"],["а","А"],["п","П"],["р","Р"],["о","О"],["л","Л"],["д","Д"],["ж","Ж"],["э","Э"],["\\","/"]],[["Shift","Shift"],["/","|"],["я","Я"],["ч","Ч"],["с","С"],["м","М"],["и","И"],["т","Т"],["ь","Ь"],["б","Б"],["ю","Ю"],[".",","],["Shift","Shift"]],[[" "," "]]],this.VKI_layout["Spanish-SP"]=[[["º","ª","\\"],["1","!","|"],["2",'"',"@"],["3","'","#"],["4","$","~"],["5","%","€"],["6","&","¬"],["7","/"],["8","("],["9",")"],["0","="],["'","?"],["¡","¿"],["Bksp","Bksp"]],[["Tab","Tab"],["q","Q"],["w","W"],["e","E"],["r","R"],["t","T"],["y","Y"],["u","U"],["i","I"],["o","O"],["p","P"],["`","^","["],["+","*","]"],["Enter","Enter"]],[["Caps","Caps"],["a","A"],["s","S"],["d","D"],["f","F"],["g","G"],["h","H"],["j","J"],["k","K"],["l","L"],["ñ","Ñ"],["´","¨","{"],["ç","Ç","}"]],[["Shift","Shift"],["<",">"],["z","Z"],["x","X"],["c","C"],["v","V"],["b","B"],["n","N"],["m","M"],[",",";"],[".",":"],["-","_"],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],this.VKI_layout["Turkish-F"]=[[["+","*","¬"],["1","!","¹","¡"],["2",'"',"²"],["3","^","#","³"],["4","$","¼","¤"],["5","%","½"],["6","&","¾"],["7","'","{"],["8","(","["],["9",")","]"],["0","=","}"],["/","?","\\","¿"],["-","_","|"],["Bksp","Bksp"]],[["Tab","Tab"],["f","F","@"],["g","G"],["ğ","Ğ"],["ı","I","¶","®"],["o","O"],["d","D","¥"],["r","R"],["n","N"],["h","H","ø","Ø"],["p","P","£"],["q","Q","¨"],["w","W","~"],["Enter","Enter"]],[["Caps","Caps"],["u","U","æ","Æ"],["i","İ","ß","§"],["e","E","€"],["a","A"," ","ª"],["ü","Ü"],["t","T"],["k","K"],["m","M"],["l","L"],["y","Y","´"],["ş","Ş"],["x","X","`"]],[["Shift","Shift"],["<",">","|","¦"],["j","J","«","<"],["ö","Ö","»",">"],["v","V","¢","©"],["c","C"],["ç","Ç"],["z","Z"],["s","S","µ","º"],["b","B","×"],[".",":","÷"],[",",";","-"],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],this.VKI_layout["Turkish-Q"]=[[['"',"é","<"],["1","!",">"],["2","'","£"],["3","^","#"],["4","+","$"],["5","%","½"],["6","&"],["7","/","{"],["8","(","["],["9",")","]"],["0","=","}"],["*","?","\\"],["-","_","|"],["Bksp","Bksp"]],[["Tab","Tab"],["q","Q","@"],["w","W"],["e","E","€"],["r","R"],["t","T"],["y","Y"],["u","U"],["ı","I","i","İ"],["o","O"],["p","P"],["ğ","Ğ","¨"],["ü","Ü","~"],["Enter","Enter"]],[["Caps","Caps"],["a","A","æ","Æ"],["s","S","ß"],["d","D"],["f","F"],["g","G"],["h","H"],["j","J"],["k","K"],["l","L"],["ş","Ş","´"],["i","İ"],[",",";","`"]],[["Shift","Shift"],["<",">","|"],["z","Z"],["x","X"],["c","C"],["v","V"],["b","B"],["n","N"],["m","M"],["ö","Ö"],["ç","Ç"],[".",":"],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],this.VKI_layout.UK=[[["`","¬","¦"],["1","!"],["2",'"'],["3","£"],["4","$","€"],["5","%"],["6","^"],["7","&"],["8","*"],["9","("],["0",")"],["-","_"],["=","+"],["Bksp","Bksp"]],[["Tab","Tab"],["q","Q"],["w","W"],["e","E","é","É"],["r","R"],["t","T"],["y","Y"],["u","U","ú","Ú"],["i","I","í","Í"],["o","O","ó","Ó"],["p","P"],["[","{"],["]","}"],["Enter","Enter"]],[["Caps","Caps"],["a","A","á","Á"],["s","S"],["d","D"],["f","F"],["g","G"],["h","H"],["j","J"],["k","K"],["l","L"],[";",":"],["'","@"],["#","~"]],[["Shift","Shift"],["\\","|"],["z","Z"],["x","X"],["c","C"],["v","V"],["b","B"],["n","N"],["m","M"],[",","<"],[".",">"],["/","?"],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],this.VKI_layout.US=[[["`","~"],["1","!"],["2","@"],["3","#"],["4","$"],["5","%"],["6","^"],["7","&"],["8","*"],["9","("],["0",")"],["-","_"],["=","+"],["Bksp","Bksp"]],[["Tab","Tab"],["q","Q"],["w","W"],["e","E"],["r","R"],["t","T"],["y","Y"],["u","U"],["i","I"],["o","O"],["p","P"],["[","{"],["]","}"],["\\","|"]],[["Caps","Caps"],["a","A"],["s","S"],["d","D"],["f","F"],["g","G"],["h","H"],["j","J"],["k","K"],["l","L"],[";",":"],["'",'"'],["Enter","Enter"]],[["Shift","Shift"],["z","Z"],["x","X"],["c","C"],["v","V"],["b","B"],["n","N"],["m","M"],[",","<"],[".",">"],["/","?"],["Shift","Shift"]],[[" "," "]]],this.VKI_layout["US Int'l"]=[[["`","~"],["1","!","¡","¹"],["2","@","²"],["3","#","³"],["4","$","¤","£"],["5","%","€"],["6","^","¼"],["7","&","½"],["8","*","¾"],["9","(","‘"],["0",")","’"],["-","_","¥"],["=","+","×","÷"],["Bksp","Bksp"]],[["Tab","Tab"],["q","Q","ä","Ä"],["w","W","å","Å"],["e","E","é","É"],["r","R","®"],["t","T","þ","Þ"],["y","Y","ü","Ü"],["u","U","ú","Ú"],["i","I","í","Í"],["o","O","ó","Ó"],["p","P","ö","Ö"],["[","{","«"],["]","}","»"],["\\","|","¬","¦"]],[["Caps","Caps"],["a","A","á","Á"],["s","S","ß","§"],["d","D","ð","Ð"],["f","F"],["g","G"],["h","H"],["j","J"],["k","K"],["l","L","ø","Ø"],[";",":","¶","°"],["'",'"',"´","¨"],["Enter","Enter"]],[["Shift","Shift"],["z","Z","æ","Æ"],["x","X"],["c","C","©","¢"],["v","V"],["b","B"],["n","N","ñ","Ñ"],["m","M","µ"],[",","<","ç","Ç"],[".",">"],["/","?","¿"],["Shift","Shift"]],[[" "," "," "," "],["Alt","Alt"]]],this.VKI_deadkey=new Object,this.VKI_deadkey['"']=this.VKI_deadkey["¨"]=[["a","ä"],["e","ë"],["i","ï"],["o","ö"],["u","ü"],["y","ÿ"],["ι","ϊ"],["υ","ϋ"],["A","Ä"],["E","Ë"],["I","Ï"],["O","Ö"],["U","Ü"],["Y","Ÿ"],["Ι","Ϊ"],["Υ","Ϋ"]],this.VKI_deadkey["~"]=[["a","ã"],["o","õ"],["n","ñ"],["A","Ã"],["O","Õ"],["N","Ñ"]],this.VKI_deadkey["^"]=[["a","â"],["e","ê"],["i","î"],["o","ô"],["u","û"],["w","ŵ"],["y","ŷ"],["A","Â"],["E","Ê"],["I","Î"],["O","Ô"],["U","Û"],["W","Ŵ"],["Y","Ŷ"]],this.VKI_deadkey["`"]=[["a","à"],["e","è"],["i","ì"],["o","ò"],["u","ù"],["A","À"],["E","È"],["I","Ì"],["O","Ò"],["U","Ù"]],this.VKI_deadkey["'"]=this.VKI_deadkey["´"]=this.VKI_deadkey["΄"]=[["a","á"],["e","é"],["i","í"],["o","ó"],["u","ú"],["α","ά"],["ε","έ"],["η","ή"],["ι","ί"],["ο","ό"],["υ","ύ"],["ω","ώ"],["A","Á"],["E","É"],["I","Í"],["O","Ó"],["U","Ú"],["Α","Ά"],["Ε","Έ"],["Η","Ή"],["Ι","Ί"],["Ο","Ό"],["Υ","Ύ"],["Ω","Ώ"]],this.VKI_deadkey["΅"]=[["ι","ΐ"],["υ","ΰ"]],this.VKI_deadkey["°"]=this.VKI_deadkey["º"]=[["a","å"],["A","Å"]];for(var e=[document.getElementsByTagName("input"),document.getElementsByTagName("textarea")],i=0,a=0;i<e.length;i++)if(e[i])for(var s=0;s<e[i].length;s++)if(("TEXTAREA"==e[i][s].nodeName||"text"==e[i][s].type||"password"==e[i][s].type)&&e[i][s].className.indexOf("keyboardInput")>-1){var n="";if(e[i][s].id)n=e[i][s].id;else do{n="keyboardInputInitiator"+a++}while(document.getElementById(n));var r=document.createElement("img");r.src="pic/keyboard.png",r.alt="Keyboard interface",r.className="keyboardInputInitiator",r.title="Display graphical keyboard interface",r.onclick=function(e){return function(){t.VKI_show(e)}}(n),e[i][s].id=n,e[i][s].parentNode.insertBefore(r,e[i][s].nextSibling),e[i][s].onclick=e[i][s].onkeyup=e[i][s].onselect=function(){t.VKI_target.createTextRange&&(t.VKI_range=document.selection.createRange())}}this.VKI_keyboard=document.createElement("table"),this.VKI_keyboard.id="keyboardInputMaster",this.VKI_keyboard.cellSpacing=this.VKI_keyboard.cellPadding=this.VKI_keyboard.border="0";var h=0;for(ktype in this.VKI_layout)"object"==typeof this.VKI_layout[ktype]&&h++;var o=document.createElement("thead"),d=document.createElement("tr"),l=document.createElement("th");if(h>1){var I=document.createElement("select");for(ktype in this.VKI_layout)if("object"==typeof this.VKI_layout[ktype]){var c=document.createElement("option");c.value=ktype,c.appendChild(document.createTextNode(ktype)),I.appendChild(c)}I.value=this.VKI_kt,I.onchange=function(){t.VKI_kt=this.value,t.VKI_buildKeys(),t.VKI_position()},l.appendChild(I)}var K=document.createElement("label"),V=document.createElement("input");V.type="checkbox",V.checked=this.VKI_deadkeysOn,V.title="Toggle dead key input",V.onclick=function(){return t.VKI_deadkeysOn=this.checked,this.nextSibling.nodeValue=" Dead keys: "+(this.checked?"On":"Off"),t.VKI_modify(""),!0},K.appendChild(V),K.appendChild(document.createTextNode(" Dead keys: "+(V.checked?"On":"Off"))),l.appendChild(K),d.appendChild(l);var _=document.createElement("td"),u=document.createElement("span");u.id="keyboardInputClear",u.appendChild(document.createTextNode("Clear")),u.title="Clear this input",u.onmousedown=function(){this.className="pressed"},u.onmouseup=function(){this.className=""},u.onclick=function(){return t.VKI_target.value="",t.VKI_target.focus(),!1},_.appendChild(u);var f=document.createElement("span");f.id="keyboardInputClose",f.appendChild(document.createTextNode("X")),f.title="Close this window",f.onmousedown=function(){this.className="pressed"},f.onmouseup=function(){this.className=""},f.onclick=function(e){t.VKI_close()},_.appendChild(f),d.appendChild(_),o.appendChild(d),this.VKI_keyboard.appendChild(o);var p=document.createElement("tbody");d=document.createElement("tr");(_=document.createElement("td")).colSpan="2",(y=document.createElement("div")).id="keyboardInputLayout",_.appendChild(y);var y=document.createElement("div"),k=document.createElement("var");k.appendChild(document.createTextNode("v"+this.VKI_version)),y.appendChild(k),_.appendChild(y),d.appendChild(_),p.appendChild(d),this.VKI_keyboard.appendChild(p),this.VKI_buildKeys=function(){this.VKI_shift=this.VKI_capslock=this.VKI_alternate=this.VKI_dead=!1,this.VKI_deadkeysOn=!this.VKI_layoutDDK[this.VKI_kt]&&this.VKI_keyboard.getElementsByTagName("label")[0].getElementsByTagName("input")[0].checked;for(var e=this.VKI_keyboard.tBodies[0].getElementsByTagName("div")[0];e.firstChild;)e.removeChild(e.firstChild);for(var i=0,a=!1;i<this.VKI_layout[this.VKI_kt].length;i++){var s=document.createElement("table");s.cellSpacing=s.cellPadding=s.border="0",this.VKI_layout[this.VKI_kt][i].length<=this.VKI_keyCenter&&(s.className="keyboardInputCenter");for(var n=document.createElement("tbody"),r=document.createElement("tr"),h=0;h<this.VKI_layout[this.VKI_kt][i].length;h++){if(!this.VKI_layoutDDK[this.VKI_kt]&&!a)for(var o=0;o<this.VKI_layout[this.VKI_kt][i][h].length;o++)this.VKI_deadkey[this.VKI_layout[this.VKI_kt][i][h][o]]&&(a=!0);var d=document.createElement("td");d.appendChild(document.createTextNode(this.VKI_layout[this.VKI_kt][i][h][0]));var l=!1;if(this.VKI_deadkeysOn)for(key in this.VKI_deadkey)key===this.VKI_layout[this.VKI_kt][i][h][0]&&(l=!0);switch(d.className=l?"alive":"",this.VKI_layout[this.VKI_kt][i].length>this.VKI_keyCenter&&h==this.VKI_layout[this.VKI_kt][i].length-1&&(d.className+=" last")," "==this.VKI_layout[this.VKI_kt][i][h][0]&&(d.style.paddingLeft=d.style.paddingRight="50px"),d.onmouseover=function(t){"dead"!=this.className&&" "!=this.firstChild.nodeValue&&(this.className+=" hover")},d.onmouseout=function(t){"dead"!=this.className&&(this.className=this.className.replace(/ ?(hover|pressed)/g,""))},d.onmousedown=function(t){"dead"!=this.className&&" "!=this.firstChild.nodeValue&&(this.className+=" pressed")},d.onmouseup=function(t){"dead"!=this.className&&(this.className=this.className.replace(/ ?pressed/g,""))},d.ondblclick=function(){return!1},this.VKI_layout[this.VKI_kt][i][h][1]){case"Caps":case"Shift":case"Alt":case"AltGr":d.onclick=function(e){return function(){return t.VKI_modify(e),!1}}(this.VKI_layout[this.VKI_kt][i][h][1]);break;case"Tab":d.onclick=function(){return t.VKI_insert("\t"),!1};break;case"Bksp":d.onclick=function(){if(t.VKI_target.focus(),t.VKI_target.setSelectionRange){var e=t.VKI_target.selectionStart,i=t.VKI_target.selectionEnd;e<i&&e++,t.VKI_target.value=t.VKI_target.value.substr(0,e-1)+t.VKI_target.value.substr(i),t.VKI_target.setSelectionRange(e-1,e-1)}else if(t.VKI_target.createTextRange){try{t.VKI_range.select()}catch(t){}t.VKI_range=document.selection.createRange(),t.VKI_range.text.length||t.VKI_range.moveStart("character",-1),t.VKI_range.text=""}else t.VKI_target.value=t.VKI_target.value.substr(0,t.VKI_target.value.length-1);return t.VKI_shift&&t.VKI_modify("Shift"),t.VKI_alternate&&t.VKI_modify("AltGr"),!0};break;case"Enter":d.onclick=function(){return"TEXTAREA"==t.VKI_target.nodeName?t.VKI_insert("\n"):t.VKI_close(),!0};break;default:d.onclick=function(){if(t.VKI_deadkeysOn&&t.VKI_dead)if(t.VKI_dead!=this.firstChild.nodeValue){for(key in t.VKI_deadkey)if(key==t.VKI_dead){if(" "!=this.firstChild.nodeValue){for(var e=0,i=!1;e<t.VKI_deadkey[key].length;e++)if(t.VKI_deadkey[key][e][0]==this.firstChild.nodeValue){t.VKI_insert(t.VKI_deadkey[key][e][1]),i=!0;break}}else t.VKI_insert(t.VKI_dead),i=!0;break}}else i=!0;if(t.VKI_dead=!1,!i&&" "!=this.firstChild.nodeValue)if(t.VKI_deadkeysOn){for(key in t.VKI_deadkey)if(key==this.firstChild.nodeValue){t.VKI_dead=key,this.className="dead",t.VKI_shift&&t.VKI_modify("Shift"),t.VKI_alternate&&t.VKI_modify("AltGr");break}t.VKI_dead||t.VKI_insert(this.firstChild.nodeValue)}else t.VKI_insert(this.firstChild.nodeValue);return t.VKI_modify(""),!1};for(o=this.VKI_layout[this.VKI_kt][i][h].length;o<4;o++)this.VKI_layout[this.VKI_kt][i][h][o]=" "}r.appendChild(d),n.appendChild(r),s.appendChild(n)}e.appendChild(s)}this.VKI_keyboard.getElementsByTagName("label")[0].style.display=a?"inline":"none"},this.VKI_buildKeys(),window.sidebar||window.opera?(this.VKI_keyboard.onmousedown=function(){return!1},this.VKI_keyboard.onclick=function(){return!0}):this.VKI_keyboard.onselectstart=function(){return!1},this.VKI_modify=function(t){switch(t){case"Alt":case"AltGr":this.VKI_alternate=!this.VKI_alternate;break;case"Caps":this.VKI_capslock=!this.VKI_capslock;break;case"Shift":this.VKI_shift=!this.VKI_shift}var e=0;!this.VKI_shift!=!this.VKI_capslock&&(e+=1);for(var i=this.VKI_keyboard.getElementsByTagName("table"),a=0;a<i.length;a++)for(var s=i[a].getElementsByTagName("td"),n=0;n<s.length;n++){var r=alive=target=!1;switch(this.VKI_layout[this.VKI_kt][a][n][1]){case"Alt":case"AltGr":this.VKI_alternate&&(r=!0);break;case"Shift":this.VKI_shift&&(r=!0);break;case"Caps":this.VKI_capslock&&(r=!0);break;case"Tab":case"Enter":case"Bksp":break;default:if(t&&(s[n].firstChild.nodeValue=this.VKI_layout[this.VKI_kt][a][n][e+(this.VKI_alternate&&4==this.VKI_layout[this.VKI_kt][a][n].length?2:0)]),this.VKI_deadkeysOn){var h=s[n].firstChild.nodeValue;if(this.VKI_dead){h==this.VKI_dead&&(r=!0);for(var o=0;o<this.VKI_deadkey[this.VKI_dead].length;o++)if(h==this.VKI_deadkey[this.VKI_dead][o][0]){target=!0;break}}for(key in this.VKI_deadkey)if(key===h){alive=!0;break}}}s[n].className=r?"dead":target?"target":alive?"alive":"",n==s.length-1&&s.length>this.VKI_keyCenter&&(s[n].className+=" last")}this.VKI_target.focus()},this.VKI_insert=function(t){if(this.VKI_target.focus(),this.VKI_target.setSelectionRange){var e=this.VKI_target.selectionStart,i=this.VKI_target.selectionEnd;this.VKI_target.value=this.VKI_target.value.substr(0,e)+t+this.VKI_target.value.substr(i),"\n"==t&&window.opera&&e++,this.VKI_target.setSelectionRange(e+t.length,e+t.length)}else if(this.VKI_target.createTextRange){try{this.VKI_range.select()}catch(t){}this.VKI_range=document.selection.createRange(),this.VKI_range.text=t,this.VKI_range.collapse(!0),this.VKI_range.select()}else this.VKI_target.value+=t;this.VKI_shift&&this.VKI_modify("Shift"),this.VKI_alternate&&this.VKI_modify("AltGr"),this.VKI_target.focus()},this.VKI_show=function(t){if(this.VKI_target=document.getElementById(t))if(this.VKI_visible!=t){this.VKI_range="";try{this.VKI_keyboard.parentNode.removeChild(this.VKI_keyboard)}catch(t){}var e=this.VKI_target;this.VKI_target.keyboardPosition="absolute";do{if("fixed"==VKI_getStyle(e,"position")){this.VKI_target.keyboardPosition="fixed";break}}while(e=e.offsetParent);this.VKI_keyboard.style.top=this.VKI_keyboard.style.right=this.VKI_keyboard.style.bottom=this.VKI_keyboard.style.left="auto",this.VKI_keyboard.style.position=this.VKI_target.keyboardPosition,document.body.appendChild(this.VKI_keyboard),this.VKI_visible=this.VKI_target.id,this.VKI_position(),this.VKI_target.focus()}else this.VKI_close()},this.VKI_position=function(){if(""!=t.VKI_visible){var e=VKI_findPos(t.VKI_target);t.VKI_keyboard.style.top=e[1]-("fixed"==t.VKI_target.keyboardPosition?document.body.scrollTop:0)+t.VKI_target.offsetHeight+3+"px",t.VKI_keyboard.style.left=Math.min(VKI_innerDimensions()[0]-t.VKI_keyboard.offsetWidth-15,e[0])+"px"}},window.addEventListener?window.addEventListener("resize",this.VKI_position,!1):window.attachEvent&&window.attachEvent("onresize",this.VKI_position),this.VKI_close=function(){try{this.VKI_keyboard.parentNode.removeChild(this.VKI_keyboard)}catch(t){}this.VKI_visible="",this.VKI_target.focus(),this.VKI_target=""}}function VKI_findPos(t){var e=curtop=0;do{e+=t.offsetLeft,curtop+=t.offsetTop}while(t=t.offsetParent);return[e,curtop]}function VKI_innerDimensions(){return self.innerHeight?[self.innerWidth,self.innerHeight]:document.documentElement&&document.documentElement.clientHeight?[document.documentElement.clientWidth,document.documentElement.clientHeight]:document.body?[document.body.clientWidth,document.body.clientHeight]:[0,0]}function VKI_getStyle(t,e){if(t.currentStyle)var i=t.currentStyle[e];else if(window.getComputedStyle)i=window.getComputedStyle(t,null)[e];return i}window.addEventListener?window.addEventListener("load",buildKeyboardInputs,!1):window.attachEvent&&window.attachEvent("onload",buildKeyboardInputs);