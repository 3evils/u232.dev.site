!function(a){a.fn.simpleCaptcha=function(s){var i=this;if(i.length<1)return i;s=s||{},s=e(a.extend({},a.fn.simpleCaptcha.defaults,s));var n="simpleCaptcha_"+a.fn.simpleCaptcha.uid++;return i.addClass("simpleCaptcha").html("").append("<div class='"+s.introClass+"'>"+s.introText+"</div><div class='"+s.imageBoxClass+"'></div><input class='simpleCaptchaInput' id='"+n+"' name='"+s.inputName+"' type='hidden' value='' />"),a.ajax({url:s.scriptPath,data:{numImages:s.numImages},method:"post",dataType:"json",success:function(e,p){if("string"!=typeof e.error){i.find("."+s.textClass).html(e.text);var l=i.find("."+s.imageBoxClass);a.each(e.images,function(){l.append("<img class='"+s.imageClass+"' src='"+this.file+"' alt='' title='"+this.hash+"' />")}),l.find("img."+s.imageClass).click(function(t){i.find("img."+s.imageClass).removeClass("simpleCaptchaSelected");var e=a(this).addClass("simpleCaptchaSelected").attr("title");return a("#"+n).val(e),i.trigger("select.simpleCaptcha",[e]),!1}).keyup(function(t){13!=t.keyCode&&13!=t.which||a(this).click()}),i.trigger("loaded.simpleCaptcha",[e])}else t(i,e.error)},error:function(a,e){t(i,"There was a serious problem: "+a.status)}}),i};var t=function(a,t){a.trigger("error.simpleCaptcha",[t])},e=function(t){return("number"!=typeof t.numImages||t.numImages<1)&&(t.numImages=a.fn.simpleCaptcha.defaults.numImages),("string"!=typeof t.introText||t.introText.length<1)&&(t.introText=a.fn.simpleCaptcha.defaults.introText),"string"!=typeof t.inputName&&(t.inputName=a.fn.simpleCaptcha.defaults.inputName),"string"!=typeof t.scriptPath&&(t.scriptPath=a.fn.simpleCaptcha.defaults.scriptPath),"string"!=typeof t.introClass&&(t.introClass=a.fn.simpleCaptcha.defaults.introClass),"string"!=typeof t.textClass&&(t.textClass=a.fn.simpleCaptcha.defaults.textClass),"string"!=typeof t.imageBoxClass&&(t.imageBoxClass=a.fn.simpleCaptcha.defaults.imageBoxClass),"string"!=typeof t.imageClass&&(t.imageClass=a.fn.simpleCaptcha.defaults.imageClass),t};a.fn.simpleCaptcha.uid=0,a.fn.simpleCaptcha.defaults={numImages:5,introText:"<p align='center'>To make sure you are a human, we need you to click on the <span class='captchaText'></span>.</p>",inputName:"captchaSelection",scriptPath:"simpleCaptcha.php",introClass:"captchaIntro",textClass:"captchaText",imageBoxClass:"captchaImages",imageClass:"captchaImage"}}(jQuery);